<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>图表测试</title>
		<script type="text/javascript" src="./js/echarts.js"></script>
	</head>
	<body style="width:100%;">
		<div id="test" style="width:100%;height:400px; padding:5px"></div>
		<p id="test1"></p>
	</body>
	<script>
	function test(){
		document.getElementById("test1").innerText = "java调用了js";
	}
	
	  (function(){
		  var myChart = echarts.init(document.getElementById("test")); 
		  function randomData() {
		    now = new Date(+now + oneDay);
		    value = value + Math.random() * 21 - 10;
		    return {
		      name: now.toString(),
		      value: [
		        [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
		        Math.round(value)
		      ]
		    };
		  }
		  let data = [];
		  let now = new Date(1997, 9, 3);
		  let oneDay = 24 * 3600 * 1000;
		  let value = Math.random() * 1000;
		  for (var i = 0; i < 1000; i++) {
		    data.push(randomData());
		  }
		  option = {
		    title: {
		      text: 'Dynamic Data & Time Axis'
		    },
		    tooltip: {
		      trigger: 'axis',
		      formatter: function (params) {
		        params = params[0];
		        var date = new Date(params.name);
		        return (
		          date.getDate() +
		          '/' +
		          (date.getMonth() + 1) +
		          '/' +
		          date.getFullYear() +
		          ' : ' +
		          params.value[1]
		        );
		      },
		      axisPointer: {
		        animation: false
		      }
		    },
		    xAxis: {
		      type: 'time',
		      splitLine: {
		        show: true
		      }
		    },
		    yAxis: {
		      type: 'value',
		      boundaryGap: [0, '100%'],
		      splitLine: {
		        show: true
		      }
		    },
		    series: [
		      {
		        name: 'Fake Data',
		        type: 'line',
		        showSymbol: false,
		        data: data
		      }
		    ]
		  };
		  setInterval(function () {
		    for (var i = 0; i < 5; i++) {
		      data.shift();
		      data.push(randomData());
		    }
		    myChart.setOption(option);
		  }, 1000);
		  
	  })();
	</script>
</html>
